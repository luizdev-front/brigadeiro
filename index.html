<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pastelaria do Fumaça — Lanches & Delivery | Guarujá, SP</title>
  <meta name="description" content="Pastelaria do Fumaça — Pastéis, Hambúrgueres, Açaí e Milk-Shake. Delivery em Guarujá. Peça online ou pelo telefone 13 99603-9919." />
  <link rel="canonical" href="https://lanches-do-fumaca.vercel.app/" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Pastelaria do Fumaça — Lanches & Delivery" />
  <meta property="og:description" content="Pastéis, hamburgueres e bebidas. Delivery em Guarujá. Peça online ou pelo telefone 13 99603-9919." />
  <meta property="og:url" content="https://lanches-do-fumaca.vercel.app/" />
  <!-- Substitua por URL real da imagem de compartilhamento -->
  <meta property="og:image" content="/images/og-image.jpg" />

  <!-- Theme -->
  <meta name="theme-color" content="#a61c00" />

  <!-- Structured data (LocalBusiness) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FoodEstablishment",
    "name": "Pastelaria do Fumaça",
    "telephone": "+55 13 99603-9919",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "R. Luís Custódio do Vale, 725",
      "addressLocality": "Guarujá",
      "addressRegion": "SP",
      "postalCode": "11444-680",
      "addressCountry": "BR"
    },
    "openingHoursSpecification": [
      {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday"],
        "opens": "18:00",
        "closes": "01:30"
      },
      {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Saturday","Sunday"],
        "opens": "19:00",
        "closes": "02:00"
      }
    ],
    "url": "https://lanches-do-fumaca.vercel.app/"
  }
  </script>

  <style>
    /* ========= Reset simples & variáveis ========= */
    :root{
      --brand:#a61c00;
      --accent:#ffb84d;
      --bg:#fff;
      --muted:#666;
      --card-shadow: 0 6px 18px rgba(0,0,0,0.08);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body,#app{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:#111;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      font-size:16px;
    }

    /* ========= Layout ========= */
    a{color:inherit;text-decoration:none}
    .skip-link{
      position:absolute;
      left:-999px;
      top:auto;
      width:1px;height:1px;overflow:hidden;
    }
    .skip-link:focus{
      left:8px;top:8px;width:auto;height:auto;padding:8px 12px;background:#000;color:#fff;z-index:9999;border-radius:4px;
    }

    header{
      border-bottom:1px solid #eee;
      background:linear-gradient(90deg,var(--brand),#c23b1a);
      color:#fff;padding:12px 16px;
    }
    .container{max-width:1100px;margin:0 auto;padding:0 16px;}

    .topbar{display:flex;align-items:center;gap:16px;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .brand svg{width:48px;height:48px}
    nav ul{display:flex;gap:12px;list-style:none;padding:0;margin:0}
    nav a{padding:8px 10px;border-radius:6px}
    nav a[aria-current="page"]{background:rgba(255,255,255,0.12)}

    main{padding:20px 0}
    .hero{display:grid;gap:14px;grid-template-columns:1fr;align-items:center}
    @media(min-width:840px){ .hero{grid-template-columns:1fr 360px} }

    .card{background:#fff;border-radius:12px;padding:16px;box-shadow:var(--card-shadow)}
    .hero-info h1{margin:0;font-size:clamp(20px,3.6vw,28px)}
    .meta{color:var(--muted);font-size:0.95rem;margin-top:8px}

    /* menu grid */
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
    .controls button{background:#fff;border:1px solid #eee;padding:8px 10px;border-radius:8px;cursor:pointer}
    .products-grid{
      display:grid;
      gap:12px;
      grid-template-columns:repeat(2,1fr);
    }
    @media(min-width:640px){ .products-grid{grid-template-columns:repeat(3,1fr)} }
    @media(min-width:980px){ .products-grid{grid-template-columns:repeat(4,1fr)} }

    .product{
      background:#fff;border-radius:10px;padding:10px;border:1px solid #f3f3f3;display:flex;flex-direction:column;gap:10px;
    }
    .product .img{
      border-radius:8px;height:140px;display:flex;align-items:center;justify-content:center;background:#f7f7f7;
    }
    .product h3{margin:0;font-size:1rem}
    .product p{margin:0;color:var(--muted);font-size:0.9rem}
    .product .price{font-weight:700;margin-top:auto}

    .product button{
      margin-top:8px;background:var(--brand);color:#fff;border:0;padding:8px;border-radius:8px;cursor:pointer;
    }

    /* cart */
    .cart-btn{position:relative}
    .cart-count{position:absolute;right:-6px;top:-6px;background:var(--accent);color:#000;border-radius:50%;padding:4px 7px;font-weight:700;font-size:0.85rem}

    aside.cart-panel{
      position:fixed;right:16px;bottom:16px;width:320px;max-width:90vw;border-radius:12px;padding:12px;box-shadow:0 10px 30px rgba(0,0,0,0.15);background:#fff;z-index:999;
    }
    .cart-items{max-height:320px;overflow:auto}
    .cart-item{display:flex;gap:8px;align-items:center;padding:8px 0;border-bottom:1px solid #f2f2f2}
    .cart-item .meta{font-size:0.9rem}
    .cart-actions{display:flex;gap:8px;justify-content:space-between;margin-top:12px}

    footer{padding:18px 0;margin-top:18px;border-top:1px solid #eee;color:var(--muted)}
    small.block{display:block;margin-top:6px}

    /* micro-a11y */
    [role="status"]{position:relative}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Pular para o conteúdo</a>

  <header>
    <div class="container topbar" role="banner">
      <div class="brand">
        <!-- Logo SVG (inline para performance) -->
        <svg role="img" aria-label="Logotipo Pastelaria do Fumaça" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" focusable="false">
          <rect rx="10" width="64" height="64" fill="#fff" opacity="0.06"></rect>
          <g fill="#fff">
            <path d="M12 44c3-3 10-4 12-12 2-8 0-14 10-14 6 0 12 6 12 12 0 10-10 12-12 18-1 3 0 6-6 6s-16-7-16-10z"></path>
          </g>
        </svg>
        <div>
          <div style="font-weight:700">Pastelaria do Fumaça</div>
          <div style="font-size:0.85rem;color: rgba(255,255,255,0.9)">Delivery | Guarujá - SP</div>
        </div>
      </div>

      <nav aria-label="Menu principal">
        <ul>
          <li><a href="#inicio" aria-current="page">Início</a></li>
          <li><a href="#pastel">Pastel</a></li>
          <li><a href="#hamburguer">Hambúrguer</a></li>
          <li><a href="#bebidas">Sucos e refrigerantes</a></li>
          <li><a href="#acai">Açaí e Milk-shake</a></li>
          <li>
            <button class="cart-btn" id="open-cart" aria-controls="cart-panel" aria-expanded="false" title="Abrir carrinho">
              Carrinho <span class="cart-count" id="cart-count" aria-hidden="true">0</span>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main" class="container" role="main">
    <section class="hero" aria-label="Informações do estabelecimento">
      <div class="card hero-info">
        <h1>BEM-VINDO À PASTELARIA DO FUMAÇA!</h1>
        <p class="meta">Aberto segunda a sexta 18:00 às 01:30 — Final de semana 19:00 às 02:00</p>
        <p class="meta">Telefone: <a href="tel:+5513996039919">13 99603-9919</a></p>
        <p class="meta">Endereço: R. Luís Custódio do Vale, 725 - Guarujá - SP</p>

        <div style="margin-top:12px">
          <a href="#products" class="card" style="display:inline-block;background:var(--brand);color:#fff;padding:10px 14px;border-radius:8px">Peça agora</a>
        </div>

        <div style="margin-top:14px">
          <strong>Tempo estimado de entrega:</strong>
          <div class="meta">30 a 60 min</div>
        </div>
      </div>

      <aside class="card" aria-label="Horário e informações rápidas">
        <h2 style="margin:0 0 8px 0">Informações rápidas</h2>
        <p class="meta">Atendimento rápido — peça pelo telefone ou online. Verifique horário de fechamento no final de semana.</p>
        <small class="block">Formas de pagamento: Dinheiro, Cartão (no local) — integrar online depois.</small>
      </aside>
    </section>

    <!-- ======= CONTROLES E PRODUTOS ======= -->
    <section id="products" aria-labelledby="produtos-title" style="margin-top:18px">
      <div style="display:flex;align-items:center;justify-content:space-between">
        <h2 id="produtos-title">Cardápio</h2>
        <div role="status" aria-live="polite" id="announce" style="font-size:0.9rem;color:var(--muted)"> </div>
      </div>

      <div class="controls" role="toolbar" aria-label="Filtrar categorias">
        <button data-filter="all" class="filter-btn">Todos</button>
        <button data-filter="Pastel" class="filter-btn">Pastel</button>
        <button data-filter="Hambúrguer" class="filter-btn">Hambúrguer</button>
        <button data-filter="Bebida" class="filter-btn">Sucos & Refrigerantes</button>
        <button data-filter="Açaí" class="filter-btn">Açaí & Milk-Shake</button>
      </div>

      <div class="products-grid" id="products-grid" aria-live="polite" aria-atomic="true">
        <!-- Produtos injetados por JS -->
      </div>
    </section>

    <footer class="container" role="contentinfo">
      <div class="card" style="margin-top:14px">
        <strong>Contato</strong>
        <small class="block">Telefone: <a href="tel:+5513996039919">13 99603-9919</a></small>
        <small class="block">Endereço: R. Luís Custódio do Vale, 725 - Guarujá - SP</small>
        <small class="block">Horário: Seg–Sex 18:00–01:30 • Sáb–Dom 19:00–02:00</small>
      </div>

      <div style="margin-top:10px;color:var(--muted);font-size:0.9rem">
        © <span id="year"></span> Pastelaria do Fumaça — Desenvolvido para entrega rápida.
      </div>
    </footer>
  </main>

  <!-- Cart panel (inicialmente oculto) -->
  <aside id="cart-panel" class="cart-panel" aria-hidden="true" hidden>
    <h3>Carrinho</h3>
    <div class="cart-items" id="cart-items" aria-live="polite"></div>
    <div class="cart-actions">
      <div><strong>Total:</strong> R$ <span id="cart-total">0.00</span></div>
      <div style="display:flex;gap:8px">
        <button id="clear-cart" style="padding:8px 10px;border-radius:8px;border:1px solid #ddd;background:#fff">Limpar</button>
        <button id="checkout" style="padding:8px 12px;border-radius:8px;background:var(--brand);color:#fff">Finalizar</button>
      </div>
    </div>
  </aside>

  <script>
    /* ========= Dados iniciais - substituir por backend quando existir ========= */
    const PRODUCTS = [
      {id: 'p1', category:'Pastel', name:'Pastel de Carne', description:'Carne moída temperada', price: 8.50},
      {id: 'p2', category:'Pastel', name:'Pastel de Queijo', description:'Queijo muçarela', price: 7.50},
      {id: 'h1', category:'Hambúrguer', name:'X-Burger Tradicional', description:'Pão, hambúrguer 150g, queijo, alface', price: 18.00},
      {id: 'h2', category:'Hambúrguer', name:'X-Bacon', description:'Com bacon crocante', price: 22.00},
      {id: 'b1', category:'Bebida', name:'Coca-Cola 350ml', description:'Refrigerante lata', price: 6.00},
      {id: 'b2', category:'Bebida', name:'Suco Natural', description:'Suco do dia 300ml', price: 8.00},
      {id: 'a1', category:'Açaí', name:'Açaí 300ml', description:'Açaí com banana e granola', price: 15.00},
      {id: 'a2', category:'Açaí', name:'Milkshake Ovomaltine', description:'Milkshake cremoso 400ml', price: 17.00}
    ];

    /* ========= Estado do carrinho ========= */
    const CART_KEY = 'fumaça_cart_v1';
    let cart = JSON.parse(localStorage.getItem(CART_KEY) || '[]');

    /* util: formatar preço */
    const money = v => v.toFixed(2).replace('.',',');

    /* ========= Render de produtos ========= */
    const productsGrid = document.getElementById('products-grid');
    const announce = document.getElementById('announce');

    function createProductCard(product){
      const div = document.createElement('article');
      div.className = 'product card';
      div.setAttribute('role','article');
      div.innerHTML = `
        <div class="img" aria-hidden="true">
          <!-- simple SVG placeholder com o nome do produto -->
          <svg width="100%" height="100%" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
            <rect width="100%" height="100%" fill="#f3f3f3"/>
            <text x="50%" y="50%" fill="#999" font-size="20" text-anchor="middle" dominant-baseline="middle">${escapeHtml(product.name)}</text>
          </svg>
        </div>
        <h3>${escapeHtml(product.name)}</h3>
        <p>${escapeHtml(product.description)}</p>
        <div class="price">R$ ${money(product.price)}</div>
        <button data-id="${product.id}" aria-label="Adicionar ${escapeHtml(product.name)} ao carrinho">Adicionar</button>
      `;
      return div;
    }

    function renderProducts(filter='all'){
      productsGrid.innerHTML = '';
      const list = filter === 'all' ? PRODUCTS : PRODUCTS.filter(p => p.category === filter);
      if(list.length === 0){
        productsGrid.innerHTML = '<p style="color:var(--muted)">Nenhum item nesta categoria.</p>';
        announce.textContent = `${list.length} itens encontrados`;
        return;
      }
      list.forEach(p => productsGrid.appendChild(createProductCard(p)));
      announce.textContent = `${list.length} itens carregados`;
    }

    /* ========= Eventos: filtro e adicionar ========= */
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('button');
      if(!btn) return;

      // filtro
      if(btn.classList.contains('filter-btn')){
        const filter = btn.dataset.filter;
        renderProducts(filter === 'all' ? 'all' : filter);
        document.querySelectorAll('.filter-btn').forEach(b => b.disabled = false);
        btn.disabled = true;
      }

      // add ao carrinho
      if(btn.dataset.id){
        const id = btn.dataset.id;
        addToCart(id, 1);
      }
    });

    /* ========= Carrinho ========= */
    const cartCount = document.getElementById('cart-count');
    const cartItemsEl = document.getElementById('cart-items');
    const cartPanel = document.getElementById('cart-panel');
    const openCartBtn = document.getElementById('open-cart');
    const cartTotalEl = document.getElementById('cart-total');
    const clearCartBtn = document.getElementById('clear-cart');
    const checkoutBtn = document.getElementById('checkout');

    function saveCart(){
      localStorage.setItem(CART_KEY, JSON.stringify(cart));
    }

    function addToCart(id, qty = 1){
      const product = PRODUCTS.find(p => p.id === id);
      if(!product) return;
      const existing = cart.find(i => i.id === id);
      if(existing) existing.qty += qty;
      else cart.push({id, qty, price: product.price, name: product.name});
      saveCart();
      renderCart();
      announce.textContent = `${product.name} adicionado ao carrinho`;
    }

    function removeFromCart(id){
      cart = cart.filter(i => i.id !== id);
      saveCart();
      renderCart();
    }

    function changeQty(id, delta){
      const it = cart.find(i => i.id === id);
      if(!it) return;
      it.qty = Math.max(1, it.qty + delta);
      saveCart();
      renderCart();
    }

    function clearCart(){
      cart = [];
      saveCart();
      renderCart();
    }

    function renderCart(){
      // count
      const totalItems = cart.reduce((s,i) => s + i.qty, 0);
      cartCount.textContent = totalItems;
      cartCount.setAttribute('aria-hidden','false');

      // items
      cartItemsEl.innerHTML = '';
      if(cart.length === 0){
        cartItemsEl.innerHTML = '<p style="color:var(--muted)">Carrinho vazio</p>';
      } else {
        cart.forEach(i => {
          const row = document.createElement('div');
          row.className = 'cart-item';
          row.innerHTML = `
            <div style="flex:1">
              <strong>${escapeHtml(i.name)}</strong>
              <div class="meta">R$ ${money(i.price)} • x${i.qty}</div>
            </div>
            <div style="display:flex;flex-direction:column;gap:6px;align-items:flex-end">
              <div>
                <button data-action="inc" data-id="${i.id}" aria-label="Aumentar quantidade">+</button>
                <button data-action="dec" data-id="${i.id}" aria-label="Diminuir quantidade">−</button>
              </div>
              <button data-action="remove" data-id="${i.id}" aria-label="Remover item">Remover</button>
            </div>
          `;
          cartItemsEl.appendChild(row);
        });
      }

      // total
      const total = cart.reduce((s,i) => s + i.price * i.qty, 0);
      cartTotalEl.textContent = money(total);

      // wire up cart action buttons (delegation)
      cartItemsEl.querySelectorAll('button').forEach(b => {
        b.addEventListener('click', (ev) => {
          const id = ev.currentTarget.dataset.id;
          const action = ev.currentTarget.dataset.action;
          if(action === 'remove') removeFromCart(id);
          if(action === 'inc') changeQty(id, 1);
          if(action === 'dec') changeQty(id, -1);
        });
      });
    }

    // cart open/close
    openCartBtn.addEventListener('click', () => {
      const shown = cartPanel.getAttribute('aria-hidden') === 'false';
      if(shown){
        cartPanel.setAttribute('aria-hidden','true');
        cartPanel.hidden = true;
        openCartBtn.setAttribute('aria-expanded','false');
      } else {
        cartPanel.hidden = false;
        cartPanel.setAttribute('aria-hidden','false');
        openCartBtn.setAttribute('aria-expanded','true');
      }
    });

    clearCartBtn.addEventListener('click', () => clearCart());

    checkoutBtn.addEventListener('click', () => {
      // placeholder de checkout
      if(cart.length === 0){
        announce.textContent = 'Carrinho vazio.';
        return;
      }
      // Em produção, aqui você chamaria uma API para criar pedido
      announce.textContent = 'Pedido enviado — interface de checkout não implementada nesta demo.';
      console.log('Pedido (simulação):', cart);
      // opcional: limpar
      // clearCart();
    });

    /* ========= Inicialização ========= */
    function init(){
      // preencher ano no footer
      document.getElementById('year').textContent = new Date().getFullYear();

      // render produtos todos
      renderProducts('all');

      // render carrinho salvo
      renderCart();

      // set default filter button disabled
      document.querySelectorAll('.filter-btn').forEach(b => { if(b.dataset.filter === 'all') b.disabled = true; });

      // accessible escape: fechar painel com ESC
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape'){
          cartPanel.hidden = true;
          cartPanel.setAttribute('aria-hidden','true');
          openCartBtn.setAttribute('aria-expanded','false');
        }
      });
    }

    // simples proteção contra XSS ao injetar texto
    function escapeHtml(s = '') {
      return String(s)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
    }

    // Run
    init();
  </script>
</body>
</html>